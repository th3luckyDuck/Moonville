<!DOCTYPE html>
<html>
  <head>

    <meta charset="utf-8">
    <title>Moonville</title>
    <meta name="Moonville" content="Moonville">  
    <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/AltspaceVR/aframe-altspace-component/v1.4.0/dist/aframe-altspace-component.min.js"></script>
    <script src="https://sdk.altvr.com/libs/altspace.js/1.0.0/altspace.min.js"></script>
    <script src="cached-model.js"></script>
    <script src="https://cdn.rawgit.com/norybiak/Aframe-gltf/v0.1.1/dist/aframe-gltf.js"></script>
    
    <!--script src="live.js"></script-->

</head>
  <body>

    <a-scene altspace="verticalAlign: middle; fullspace: true" vr-mode-ui="enabled: false" sync-system="author: Ducky; app: twn"> <!--fog="type: linear; color: white; far: 60; near: 0"-->

      <!-- Asset Loading -->

      <a-assets> 
        <!--a-asset-item id="town-gltf" src="town.gltf"></a-asset-item>
        <a-asset-item id="tc-gltf" src="/twn/tc/tc.gltf"></a-asset-item-->
        <a-asset-item id="bb2-mtl" src="https://th3luckyduck.github.io/Moonville/bb1/building1.mtl"></a-asset-item>
        <a-asset-item id="bb2-obj" src="building1.obj"></a-asset-item>
        <!--a-asset-item id="npc1-mtl" src="/twn/npc1/npc1.mtl"></a-asset-item-->
        <!--a-asset-item id="npc1-obj" src="/twn/npc1/npc1.obj"></a-asset-item-->
        <a-asset-item id="npc1b2" src="https://th3luckyduck.github.io/Moonville/npc1/npc1b2.obj"></a-asset-item>
        <a-asset-item id="npc1h2" src="https://th3luckyduck.github.io/Moonville/npc1/npc1h2.obj"></a-asset-item>

        <img id="sky" src="sky.jpg"/>
        <img id="water" src="water.1024x512.jpeg"/>
        <img id="music-icon" src="music.jpg"/>
        <img id="bbl-icon" src="bbl.jpg"/>
        <img id="bbr-icon" src="bbr.jpg"/>
        <img id="bbc-icon" src="bbc.jpg"/>
        <img id="mapjp" src="map.jpg"/>
        <img id="usdjp" src="usd.jpg"/>
        <img id="wood" src="wood.256x256.jpg"/>
        <!--a-mixin id="bballl" n-skeleton-parent="part: hand; side: left; index: 0" n-spawner="res:interactables/basketball" scale="0.25 0.25 .25" position="0 0.01 0.03" color="grey" rotation="0 0 0" sync sync-n-skeleton-parent></a-mixin-->
        <a-mixin id="bballl" n-spawner="res:interactables/basketball" collapse-model scale="0.25 0.25 .25"></a-mixin>
        <a-mixin id="bballl-left" rotation="0 0 0" n-skeleton-parent="part: hand; side: left; index: 0" position="0 0.01 0.03" sync sync-n-skeleton-parent></a-mixin>

        <!--a-mixin id="bballgun1" n-spawner="res:interactables/basketball" collapse-model scale="0.25 0.25 .25"></a-mixin>
        <a-mixin id="bballgun1-left" rotation="0 0 0" n-skeleton-parent="part: hand; side: left; index: 0" position="0 0.01 -0.12" sync sync-n-skeleton-parent></a-mixin-->
        <!--a-mixin id="bballgun2" geometry="primitive: sphere"" collapse-model scale="0.3 0.15 0.3" n-mesh-collider="type:environment;convex:false"></a-mixin>
        <a-mixin id="bballgun2-left" rotation="0 0 0" n-skeleton-parent="part: spine" position="0 0.35 -1" sync sync-n-skeleton-parent></a-mixin-->

        <!--a-mixin id="bballr" n-skeleton-parent="part: hand; side: right; index: 0" n-spawner="res:interactables/basketball" scale="0.25 0.25 .25" position="0 0.01 0.03" color="grey" rotation="0 0 0" sync sync-n-skeleton-parent></a-mixin-->
        <a-mixin id="bballr" n-spawner="res:interactables/basketball" collapse-model scale="0.25 0.25 .25"></a-mixin>
        <a-mixin id="bballr-right" rotation="0 0 0" n-skeleton-parent="part: hand; side: right; index: 0" position="0 0.01 0.03" sync sync-n-skeleton-parent></a-mixin>

        <!--a-mixin id="bballc" n-skeleton-parent="part: spine" n-spawner="res:interactables/basketball" scale="0.25 0.25 .25" position="0 0.2 -0.4" color="grey" rotation="0 0 0" sync sync-n-skeleton-parent></a-mixin-->

        <a-mixin id="bballc" n-spawner="res:interactables/basketball" collapse-model scale="0.25 0.25 0.25"></a-mixin>
        <a-mixin id="bballc-spine" rotation="0 0 0" n-skeleton-parent="part: spine;" position="0 0.2 -0.4" sync sync-n-skeleton-parent></a-mixin>

        <a-mixin id="map" geometry="primitive: plane" material="src: #mapjp" collapse-model scale="1.5 1.5 0.1"></a-mixin>
        <a-mixin id="map-spine" rotation="0 0 0" n-skeleton-parent="part: spine;" position="0 0.65 -2" sync sync-n-skeleton-parent></a-mixin>

        <a-mixin id="mappos" geometry="primitive: sphere" material="color: red" collapse-model scale="0.01 0.01 0.01"></a-mixin>
        <a-mixin id="mappos-spine" rotation="0 0 0" n-skeleton-parent="part: spine;" position="0 0.65 -2" sync sync-n-skeleton-parent></a-mixin>

      </a-assets>
      

      <!--a-entity one-per-user="mixin: bballl"></a-entity>
      <a-entity one-per-user="mixin: bballr"></a-entity-->
      <!--a-entity one-per-user="mixin: bballc"></a-entity-->

      <a-entity id="menu1" n-text="fontSize: 4; text: <#0000BB>Moonville" position='-0.81 0.16 -1.60' rotation="-25 0 0" scale="0.15 0.15 0.05" n-cockpit-parent></a-entity>

      <a-entity geometry="primitive: box" material="src: #wood" position='-0.81 0.075 -1.595' rotation="-25 0 0" scale="0.6 0.25 0.03" n-cockpit-parent altspace-cursor-collider="enabled: true"></a-entity>

      <a-entity geometry="primitive: box" material="src: #music-icon" position='-1 0.05 -1.55' rotation="-25 0 0" scale="0.15 0.15 0.03" n-cockpit-parent wire="on: click; emit: soundt; targets: #wav" altspace-cursor-collider="enabled: true"></a-entity>

      <a-entity id="map-spine-instantiator" geometry="primitive: box" material="src: #mapjp" position='-0.81 0.05 -1.55' rotation="-25 0 0" scale="0.15 0.15 0.03" n-cockpit-parent wire="on: click; emit: mmp; targets: #mmpd, #mmpd2" altspace-cursor-collider="enabled: true"></a-entity>
      <a-entity id="mmpd" instantiator="on: mmp; group: mapg; mixin: map map-spine"></a-entity>
      <a-entity id="mmpd2" instantiator="on: mmp; group: mapg2; mixin: mappos mappos-spine"></a-entity>


       <!--a-entity id="bballgun-instantiator" geometry="primitive: box" material="src: #bbl-icon" position='-0.7275 0.084 -1.56875' rotation="-25 0 0" scale="0.075 0.075 0.03" n-cockpit-parent wire="on: click; emit: gun; targets: #bbg1, #bbg2" altspace-cursor-collider="enabled: true"></a-entity>
       <a-entity id="bbg1" instantiator="on: gun; group: bbalg1; mixin: bballgun1 bballgun1-left"></a-entity>
      <a-entity id="bbg2" instantiator="on: gun; group: bbals1; mixin: bballgun2 bballgun2-left"></a-entity-->
      <!--instantiator="on: click; group: mapg; mixin: map map-spine"-->

      <!--a-entity geometry="primitive: box" material="color: green" position='-0.62 0.05 -1.55' rotation="-25 0 0" scale="0.15 0.15 0.03" n-cockpit-parent wire="on: click; emit: bballmove; targets: #bballanim" altspace-cursor-collider="enabled: true"></a-entity-->

      <a-entity id="bballc-spine-instantiator" geometry="primitive: box" material="src: #bbl-icon" position='-0.6575 0.084 -1.56875' rotation="-25 0 0" scale="0.075 0.075 0.03" n-cockpit-parent instantiator="on: click; group: bballg1; mixin: bballl bballl-left" altspace-cursor-collider="enabled: true"></a-entity>
      <a-entity id="bballc-spine-instantiator" geometry="primitive: box" material="src: #bbr-icon" position='-0.5825 0.084 -1.56875' rotation="-25 0 0" scale="0.075 0.075 0.03" n-cockpit-parent instantiator="on: click; group: bbalg2; mixin: bballr bballr-right" altspace-cursor-collider="enabled: true"></a-entity>
      <a-entity id="bball-hands-instantiator" geometry="primitive: box" material="src: #bbc-icon" position='-0.62 0.016 -1.53125' rotation="-25 0 0" scale="0.15 0.075 0.03" n-cockpit-parent instantiator="on: click; group: bbalg3; mixin: bballc bballc-spine" altspace-cursor-collider="enabled: true"></a-entity>

      <!--a-entity n-spawner="res:interactables/basketball" scale="0.5 0.5 0.5" rotation="-25 0 0" position="-0.6 0.05 -1.51" n-cockpit-parent class="clickable" altspace-cursor-collider="enabled: true"></a-entity-->

      <a-entity rotation="0 180 0">

    <!-- Aframe adds-->
      <a-box scale="189.21 9.43 312.52" position="79.5 0 3.55" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box scale="189.21 9.43 312.52" position="79.5 -2 3.55" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box scale="189.21 9.43 312.52" position="79.5 -4 3.55" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box scale="189.21 9.43 312.52" position="79.5 -3 3.55" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box scale="189.21 9.43 312.52" position="79.5 -1 3.55" n-mesh-collider="type:environment;convex:false"></a-box>
      
      <a-entity id="land" rotation="0 0 0" position="-15 5 0">
      <a-animation begin="under" attribute="rotation" dur="0.00001" repeat="0" to="0 0 180"></a-animation>
      <a-animation begin="over" attribute="rotation" dur="0.00001" repeat="0" to="0 0 0"></a-animation>
      <a-animation begin="under" attribute="position" dur="0.00001" repeat="0" to="-15 -20.2 0"></a-animation>
      <a-animation begin="over" attribute="position" dur="0.00001" repeat="0" to="-15 5 0"></a-animation>





      <a-gltf-model scale="3 3 3" src="town.gltf" position="0 0 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>

      <a-box src="#water" geometry="primitive:box" position="-27.09 -2.98 108.12" scale="57.92 1 1138.17">
      <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" from="-27.09 -2.98 108.12" to="-27.09 -2.98 -250"></a-animation>
      </a-box>
      <a-box src="#water" geometry="primitive:box" position="-24.21 -3.11 -282.91" scale="213.08 1 317.28" material="src:#water">
      <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" direction="alternate" from="-24.21 -3.11 -282.91" to="-26 -3.11 -282.91"></a-animation>
      </a-box>

      <a-entity position="9 1.75 -15" rotation="0 -90 0">
      <a-entity position="0 0 0">
      <a-entity id="song" position="0 10 0" n-sound="src: twn13.wav; loop: true; autoplay: true; volume: 0.2; rolloff: cosine; minDistance: 1; maxDistance: 300"></a-entity>
      <a-animation id="wav" attribute="position" begin="on: soundt" dur="0.000001" easing="linear" repeat="0" fill="forwards" direction="alternate" from="0 0 0" to="0 0 1500"></a-animation>
      <!--a-entity id="testtag1" position='0 1.75 0' rotation="0 90 0" n-text='text: <#0000FF>This app is under development.        Click button to mute sound; fontSize:6'></a-entity>
      <a-box position='0 0.5 0' color="green" scale="0.1 0.8 0.8" wire="on: click; emit: soundt; targets: #wav"></a-box>
      <a-box position='-0.2 1.25 0' color="white" scale="0.1 3 6"></a-box>
      <a-entity id="testtag2" position='0 1.75 -1500' rotation="0 90 0" n-text='text: <#0000FF>This app is under development.         Click button to enable sound; fontSize:6'></a-entity>
      <a-box position='0 0.5 -1500' color="red" scale="0.1 0.8 0.8" wire="on: click; emit: soundt; targets: #wav"></a-box>
      <a-box position='-0.2 1.25 -1500' color="white" scale="0.1 3 6"></a-box-->
      </a-entity></a-entity>

      

      <!--a-gltf-model scale="11.79 11.79 11.79" src="/twn/bb1/bb.gltf" position="39.58 0.09 -51.4" rotation="0 -90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model-->

      <!--cached-obj-model scale="0.3 0.45 0.3" src="#npc1-obj" mtl="#npc1-mtl" position="15 0 -15." n-mesh-collider="type:environment;convex:false"></cached-obj-model-->

      <a-entity position="15 0 6">
      <!--a-gltf-model scale="1 1 1" src="/twn/npc1/npc1.gltf" position="0 0 0" rotation="0 180 0" wire="on: click; emit: npct4anamego; targets: #npct4anamec"></a-gltf-model-->
      <cached-obj-model scale="1 1 1" src="#npc1b2" color="#082f08" position="0 0 0" rotation="0 180 0" wire="on: click; emit: npct4anamego; targets: #npct4anamec"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#npc1h2" color="white" position="0 0 0" rotation="0 180 0" wire="on: click; emit: npct4anamego; targets: #npct4anamec"></cached-obj-model>
      <a-entity position="0 2 0">
      <a-entity position="0 0.1 0.01" scale="0.1 0.1 0.1" n-text='text: The Real Ducky;'></a-entity>
      <a-entity position="0 0.1 -0.01" scale="0.1 0.1 0.1" n-text='text: The Real Ducky;' rotation="0 180 0"></a-entity>
      <a-box scale="0.15 0.15 0.02" color="grey" position="-0.3 -0.05 0" wire="on: click; emit: npct4anamego; targets: #npct4aname2c"></a-box>
      <a-box scale="0.15 0.15 0.02" color="grey" position="0 -0.05 0"></a-box>
      <a-box scale="0.15 0.15 0.02" color="grey" position="0.3 -0.05 0" wire="on: click; emit: npct4anamego; targets: #npct4aname3c"></a-box>
      <a-box scale="1.1 0.5 0.01" color="black"></a-box>
      <a-animation id="npct4anamec" begin="npct4anamego" attribute="position" dur="0.0001" delay ="0" easing="linear" repeat="0" fill="forwards" direction="alternate" from="0 2 0" to="0 -100 0"></a-animation>
      </a-entity>
      <a-entity id="intro" position="1 1.8 -0.1" scale="0.1 0.1 0.1" rotation="0 180 0" n-text='text: Hello <name>, Welcome to <name>.                   Use your menu buttons to mute the music or open the game map.;'>
        <a-box position="0 0 -0.02" scale="11 12 0.01" color="grey"></a-box>
        <a-animation id="npct4aname3c" begin="npct4anamego" attribute="position" dur="0.0001" delay ="0" easing="linear" repeat="0" fill="forwards" direction="alternate" from="1 1.8 -0.1" to="1 -100 -0.1"></a-animation>
      </a-entity>
      <a-entity position="-1 -100.2 -0.1" scale="0.1 0.1 0.1" rotation="0 180 0" n-text='text: Displaying game instructions. Here is an example of some text.;'>
        <a-box position="0 0 -0.02" scale="11 5 0.01" color="grey"></a-box>
        <a-animation id="npct4aname2c" begin="npct4anamego" attribute="position" dur="0.0001" delay ="0" easing="linear" repeat="0" fill="forwards" direction="alternate" from="-1 -100 -0.1" to="-1 1.8 -0.1"></a-animation>
      </a-entity>
      </a-entity>
      

      <!--a-box id="m1" material="color: red"
           depth=".3" height=".5" width=".3" position="11 0 5" 
           wire="on: click; emit: mmp; targets: #mmpd, #mmpd2">
      </a-box-->
      


      <a-entity position="0 0 0">
      <a-entity id="animation1" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 100 10 100" n-container="capacity:1" wire="on: container-full; emit: go; targets: #npcm1, #animationinvis, #npcm1b"></a-entity>
      <!--a-box color="red" scale="100 10 100"></a-box-->
      <a-animation id="animationinvis" attribute="position" begin="on: go" dur="0.00001" easing="linear" repeat="0" fill="forwards" from="0 0 0" to="0 -100 0"></a-animation>
      </a-entity>

      <a-entity id="npc" position="12 0 5" rotation="0 0 0">
      <a-animation id="npcm1" attribute="position" dur="30000" begin="go" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="5 0 5" to="5 0 115"></a-animation>
      <a-animation id="npcm2" attribute="position" dur="30000" begin="go2" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="5 0 115"" to="90 0 115"></a-animation>
      <a-animation id="npcm3" attribute="position" dur="30000" begin="go3" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="90 0 115" to="90 0 5"></a-animation>
      <a-animation id="npcm4" attribute="position" dur="30000" begin="go4" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="90 0 5" to="5 0 5"></a-animation>
      <a-animation id="npct1" attribute="rotation" dur="90" begin="go2" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 90 0"></a-animation>
      <a-animation id="npct2" attribute="rotation" dur="90" begin="go3" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 180 0"></a-animation>
      <a-animation id="npct3" attribute="rotation" dur="90" begin="go4" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 270 0"></a-animation>
      <a-animation id="npct4" attribute="rotation" dur="90" begin="go" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 0 0"></a-animation>
      <!--a-gltf-model scale="1 1 1" src="/twn/npc1/npc1.gltf" material="shader: flat; color: red" position="0 0 0" rotation="0 0 0" wire="on: click; emit: npct4anamego; targets: #npct4aname">></a-gltf-model-->
      <a-obj-model scale="1 1 1" src="#npc1b2" color="red" position="0 0 0" rotation="0 0 0" wire="on: click; emit: npct4anamego; targets: #npct4aname"></a-obj-model>
      <a-obj-model scale="1 1 1" src="#npc1h2" color="white" position="0 0 0" rotation="0 0 0" wire="on: click; emit: npct4anamego; targets: #npct4aname"></a-obj-model>
      <a-entity id="npccn1" position="0 1 0" n-box-collider="isTrigger:true; type:environment; size: 1.5 1.5 1.5" n-container="capacity:1" wire="on: container-full; emit: pause; targets: #npcm1, #npcm2, #npcm3, #npcm4"></a-entity>
      <a-entity id="npccn2" position="0 1 0" n-box-collider="isTrigger:true; type:environment; size: 1.5 1.5 1.5" n-container="capacity:1" wire="on: container-empty; emit: play; targets: #npcm1, #npcm2, #npcm3, #npcm4"></a-entity>
      <a-entity position="0 -100 0">
      <a-entity position="0 0.1 0.01" scale="0.1 0.1 0.1" n-text='text: Ducky McDuckerson;'></a-entity>
      <a-entity position="0 0.1 -0.01" scale="0.1 0.1 0.1" n-text='text: Ducky McDuckerson;' rotation="0 180 0"></a-entity>
      <a-box scale="0.15 0.15 0.02" color="grey" position="-0.3 -0.05 0"></a-box>
      <a-box scale="0.15 0.15 0.02" color="grey" position="0 -0.05 0"></a-box>
      <a-box scale="0.15 0.15 0.02" color="grey" position="0.3 -0.05 0"></a-box>
      <a-box scale="1.1 0.5 0.01" color="black"></a-box>
      <a-animation id="npct4aname" begin="npct4anamego" attribute="position" dur="0.0001" delay ="0" easing="linear" repeat="0" fill="forwards" direction="alternate" from="0 -100 0" to="0 2 0"></a-animation>
      </a-entity>
      </a-entity>
      <a-entity id="npcb" position="-12 0 -12" rotation="0 0 0">
      <a-animation id="npcm1b" attribute="position" dur="13000" begin="go" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="12 0 -12" to="12 0 40"></a-animation>
      <a-animation id="npcm2b" attribute="position" dur="13000" begin="go2" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="12 0 40"" to="60 0 40"></a-animation>
      <a-animation id="npcm3b" attribute="position" dur="13000" begin="go3" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="60 0 40" to="60 0 90"></a-animation>
      <a-animation id="npcm4b" attribute="position" dur="13000" begin="go4" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" from="60 0 90" to="90 0 90"></a-animation>
      <a-animation id="npct1b" attribute="rotation" dur="90" begin="go2" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 90 0"></a-animation>
      <a-animation id="npct2b" attribute="rotation" dur="90" begin="go3" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 180 0"></a-animation>
      <a-animation id="npct3b" attribute="rotation" dur="90" begin="go4" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 270 0"></a-animation>
      <a-animation id="npct4b" attribute="rotation" dur="90" begin="go" delay ="0" easing="linear" repeat="0" fill="forwards" direction="forwards" to="0 0 0"></a-animation>
      <a-gltf-model scale="1 1 1" src="/twn/npc1/npc1.gltf" color="red" position="0 0 0" rotation="0 0 0" wire="on: click; emit: npct4anamego; targets: #npct4anameb">></a-gltf-model>
      <a-entity position="0 -100 0">
      <a-entity position="0 0.1 0.01" scale="0.1 0.1 0.1" n-text='text: Blake Briar;'></a-entity>
      <a-entity position="0 0.1 -0.01" scale="0.1 0.1 0.1" n-text='text: Blake Briar;' rotation="0 180 0"></a-entity>
      <a-box scale="0.15 0.15 0.02" color="grey" position="-0.3 -0.05 0"></a-box>
      <a-box scale="0.15 0.15 0.02" color="grey" position="0 -0.05 0"></a-box>
      <a-box scale="0.15 0.15 0.02" color="grey" position="0.3 -0.05 0"></a-box>
      <a-box scale="1.1 0.5 0.01" color="black"></a-box>
      <a-animation id="npct4anameb" begin="npct4anamego" attribute="position" dur="0.0001" delay ="0" easing="linear" repeat="0" fill="forwards" direction="alternate" from="0 -100 0" to="0 2 0"></a-animation>
      </a-entity>
      </a-entity>

      <cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="31.52 0.09 -15.48" n-mesh-collider="type:environment;convex:false"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="44.95 0.09 -15.48" n-mesh-collider="type:environment;convex:false"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="59.58 0.09 -15.48" n-mesh-collider="type:environment;convex:false"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="72.89 0.09 -15.48" n-mesh-collider="type:environment;convex:false"></cached-obj-model>

<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 3.1" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 16.55" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 29.92" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 43.36" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 57.43" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 90.48" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="100.26 0.09 104.33" n-mesh-collider="type:environment;convex:false" rotation="0 -90 0"></cached-obj-model>

<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="83.09 0.09 128.06" n-mesh-collider="type:environment;convex:false" rotation="0 180 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="69.61 0.09 128.06" n-mesh-collider="type:environment;convex:false" rotation="0 180 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="56.61 0.09 128.06" n-mesh-collider="type:environment;convex:false" rotation="0 180 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="42.89 0.09 128.06" n-mesh-collider="type:environment;convex:false" rotation="0 180 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="29.61 0.09 128.06" n-mesh-collider="type:environment;convex:false" rotation="0 180 0"></cached-obj-model>
<cached-obj-model scale="4 3 4" src="#bb2-obj" mtl="#bb2-mtl" position="16.18 0.09 128.06" n-mesh-collider="type:environment;convex:false" rotation="0 180 0"></cached-obj-model>

<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="17.83 -2.13 30.39" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="55.95 -2.13 9.4" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="73.8 -2.13 31.22" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="73.46 -2.13 6.58" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="75.31 -2.13 88.73" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="56.55 -2.13 103.59" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="21.47 -2.13 97.91" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>

<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-63.39 -2.13 8.3" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="93.75 -2.13 133.14" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="112.58 -2.13 4.43" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>

<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="163.42 -2.13 5.63" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="188.63 -2.13 17.96" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="194.89 -2.13 -27.76" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="142.95 -2.13 -55.63" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="149.08 -2.13 -150.42" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="98.28 -2.13 -187.66" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="73.63 -2.13 -87.72" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="4.38 -2.13 -89.94" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="9.16 -2.13 -30.7" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="78.26 -2.13 39.85" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-64.05 -2.13 103.59" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-129.15 -2.13 130.35" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-85.37 -1.06 163.57" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-61.25 -1.06 180.95" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-157.93 -1.06 163.25" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-197.58 5.39 127.2" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-197.58 1.15 13.52" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-262.27 16.5 -24.22" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-68.14 16.5 217.38" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="64.86 16.5 252.33" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="133.68 16.5 220.8" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="216.83 16.5 148.09" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="245.87 16.5 59.67" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="276.96 25.39 69.01" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="242.99 25.39 112.52" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="220.37 25.39 179.09" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="117.49 32.08 254.24" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="54.1 32.08 291.16" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-78.24 32.08 233.02" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-243.94 32.08 179.88" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-216.21 32.08 200.82" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-140.16 32.08 221.39" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-275.75 32.08 -162.93" rotation="0 180 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-257.64 32.08 -212.12" rotation="0 270 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-159.09 27.65 -274.79" rotation="0 0 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-139.58 27.65 -341.48" rotation="0 90 0" n-mesh-collider="type: environment;convex: false"></a-gltf-model>

<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="90.93 -1.29 174.81" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="106 -8.49 174.81" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="83.53 -1.49 174.81" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="65.31 -1.49 162.69" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="48.37 -1.49 189.79" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="21.24 -1.49 156.39" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="152.33 -0.93 131.46" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="152.33 -0.93 114.06" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="187.08 -0.82 -41.62" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="218.1 -0.82 -32.3" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="179.92 -0.82 -83.76" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="179.92 -0.82 -134.55" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="125.28 -0.82 -72.12" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="129.8 -0.82 -35.16" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="177.27 -0.82 -143.08" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="156.83 -0.82 -189.71" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="115.77 -0.82 -166.05" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="76.48 -0.82 -199.34" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="89.47 -0.82 -234.03" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="41.07 -0.82 -192.48" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-105.5 -0.82 -258.41" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-91.88 -0.82 -309.4" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-126.07 -0.82 -211.39" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-152.47 -0.82 -235.05" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-178.39 -0.82 -182.92" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-206.72 -0.82 -171.21" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-128.41 -0.82 -134.62" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-213.91 -0.82 -125.47" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-213.91 -0.82 -95.92" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-220.6 -0.82 -59.08" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-183.73 -0.82 -42.67" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-168.65 -0.82 -66.95" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-153.42 -0.82 -74.89" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-130.89 -0.82 -68.08" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-139.16 -0.82 -44.46" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-157.42 -0.82 20.67" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-142.1 -0.82 38.92" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-185.15 -0.82 38.92" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-194.53 -0.82 60.23" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-169.9 -0.82 87.22" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-152.5 -0.82 99.11" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-134.25 -0.82 106.81" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-134.25 -0.82 85.3" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-134.25 -0.82 120.71" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-121.24 -0.82 158.99" rotation="0 180 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-105.8 -0.82 167.25" rotation="0 270 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-85.96 -0.82 153.02" rotation="0 0 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>
<a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-61.68 -0.82 153.02" rotation="0 90 0" n-mesh-collider="type:environment;convex:false"></a-gltf-model>

      <a-entity n-spawner="res:interactables/box" position="2 1.5 5"></a-entity>
      <a-entity n-spawner="res:interactables/soccerball" position="2 1.5 6"></a-entity>
      <a-entity n-spawner="res:interactables/bowlingball" position="2 1.5 7"></a-entity>
      <a-entity n-spawner="res:interactables/gem" position="2 1.5 8"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="2 1.5 9"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="286.15 245.0 332.82"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="286.15 245.61 332.82"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="286.15 246 332.82"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="286 245.61 332.82"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="287 245.61 332.82"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="-252.75 250.61 335.09"></a-entity>
      <!--a-entity n-spawner="res:interactables/basketball" position="0.3 13.5 14.08"></a-entity-->

      <a-entity id="box1a" position="5 1.5 8" rotation="0 180 0">
        <a-entity n-spawner="res:interactables/gem; scale: 5 5 5" position="0 0 0" scale="5 5 5"></a-entity>
        <a-entity id="box1b" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.01 0.01 0.01" n-container="capacity:1" wire="on: container-full; emit: d1; targets: #box1a"></a-entity>
        <a-animation attribute="position" begin="on: d1" dur="10000" easing="linear" repeat="0" fill="backwards" from="0 0 0" to="0 -100 0"></a-animation>
      </a-entity>

      <a-entity position="5 1 14" rotation="0 180 0">
        <a-box color="white"></a-box>
        <a-entity id="box1" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: day; targets: #skybox"></a-entity>
      </a-entity>
      <a-entity position="5 1 15" rotation="0 180 0">
        <a-box color="black"></a-box>
        <a-entity id="box2" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: night; targets: #skybox"></a-entity>
      </a-entity>

      </a-entity>

      <a-entity position="60.5 6 6" rotation="0 180 0">
        <!--a-box color="green"></a-box-->
        <a-entity id="underbox1" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: over; targets: #underbox, #land"></a-entity>
      </a-entity>
      <a-entity position="60 6 6" rotation="0 180 0">
        <!--a-box color="purple"></a-box-->
        <a-entity id="underbox2" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: under; targets: #underbox, #land"></a-entity>
      </a-entity>

      </a-entity>

      <!--a-entity position="-500 5 0" Rotation="0 0 0">

      <a-gltf-model scale="3 3 3" src="/twn/grass/grass.gltf" position="0 0 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>

      <a-entity position="0 0 0">
      <a-circle src="#water" radius="5" rotation="-90 0 0" position="-0.4 0.25 50.58" scale="4.37 3.6 3.6">
        <a-animation attribute="position" dur="1000" easing="ease" direction="alternate" repeat="indefinite" from="-0.4 0.25 50.54" to="-0.4 0.25 50.58"></a-animation>
      </a-circle>
       <a-animation attribute="position" dur="5000" easing="ease" direction="alternate" repeat="indefinite" from="0 -0.05 0" to="0 0.01 0"></a-animation>
      </a-entity-->

      <!--a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="22 15 15" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-17 15 21" rotation="0 60 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-25 15 12" rotation="0 60 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-47 15 -47" rotation="0 136 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="57 15 47" rotation="0 36 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="53 15 43" rotation="0 236 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>

      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="45 15 45" rotation="0 36 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="50 15 -5" rotation="0 26 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-22 15 38" rotation="0 136 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-38 15 48" rotation="0 236 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="53 15 -49" rotation="0 36 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="45 15 -15" rotation="0 203 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="52 15 5" rotation="0 286 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-46 15 46" rotation="0 36 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-48 15 14" rotation="0 136 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-54 15 -5" rotation="0 96 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-45 15 -47" rotation="0 236 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="43 15 -52" rotation="0 216 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="17 15 -48" rotation="0 86 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-19 15 -46" rotation="0 136 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-38 15 -45" rotation="0 236 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model-->

    <!-- Tree Model 2 object adds-->

      <!--a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="6 15 -15" rotation="0 10 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-60 15 -15" rotation="0 210 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-49 15 -85" rotation="0 190 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="60 15 -60" rotation="0 90 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="60 15 34" rotation="0 0 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="41 15 43" rotation="0 210 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="36 15 2" rotation="0 110 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="22 15 29" rotation="0 210 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="22 15 -29" rotation="0 210 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-15 15 -15" rotation="0 210 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-17 15 -8" rotation="0 210 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-49 15 -31" rotation="0 300 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-27 15 -28" rotation="0 100 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-25 15 -35" rotation="0 258 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model-->

    <!-- Tree Model 3 object adds-->

      <!--a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="10 15 -20" rotation="0 160 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="74 15 -56" rotation="0 100 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-36 15 -70" rotation="0 240 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="36 15 70" rotation="0 40 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="56 15 -25" rotation="0 140 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-55 15 45" rotation="0 350 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>
      <a-gltf-model scale="3 3 3" src="/twn/tc/tc.gltf" position="-47 15 -25" rotation="0 200 0" n-mesh-collider="type: environment; convex: false"></a-gltf-model>

      </a-entity-->

      
<!-- update -->


    <!-- Sky load and animation -->

      <a-sky id="skybox" position="0 -1000 0" radius="2500" rotation="1" src="#sky" segments-width="16" segments-height="16">
        <a-animation begin="day" attribute="rotation" dur="0.0001" repeat="0" to="0 0 0"></a-animation>
        <a-animation begin="night" attribute="rotation" dur="0.0001" repeat="0" to="180 0 0"></a-animation>
      </a-sky>
      <a-sphere id="underbox" position="0 0 -10000" radius="1000" side="back" src="#usdjp" segments-width="16" segments-height="16">
        <a-animation begin="over" attribute="position" dur="0.0001" repeat="0" to="0 0 -10000"></a-animation>
        <a-animation begin="under" attribute="position" dur="0.0001" repeat="0" to="0 0 0"></a-animation>
      </a-sphere>


    </a-scene>
    <script>
    altspace.getUser().then(function(user){
      document.querySelector('#intro').setAttribute('n-text', {text: 'Hello ' + user.displayName + ', \n Welcome to Moonville. \n Use your menu buttons to mute the music or open the game map. \n Click my Dialogue button for game information. \n *This app is under development*'});
       document.querySelector('#menu1').setAttribute('n-text', {fontSize:4,  text: '<#0000BB>Moonville:  ' + user.displayName });
    });
    </script>
    <script type="text/javascript">
    document.querySelector('#npcm1').addEventListener('animationend', function () {
    document.querySelector('#npcm2,#npct1').emit('go2');
  });
    document.querySelector('#npcm2').addEventListener('animationend', function () {
    document.querySelector('#npcm3,#npct2').emit('go3');
  });
    document.querySelector('#npcm3').addEventListener('animationend', function () {
    document.querySelector('#npcm4,#npct3').emit('go4');
  });
    document.querySelector('#npcm4').addEventListener('animationend', function () {
    document.querySelector('#npcm1,#npct4').emit('go');
  });
    </script>
    <script type="text/javascript">
    document.querySelector('#npcm1b').addEventListener('animationend', function () {
    document.querySelector('#npcm2b,#npct1b').emit('go2');
  });
    document.querySelector('#npcm2b').addEventListener('animationend', function () {
    document.querySelector('#npcm3b,#npct2b').emit('go3');
  });
    document.querySelector('#npcm3b').addEventListener('animationend', function () {
    document.querySelector('#npcm4b,#npct3b').emit('go4');
  });
    document.querySelector('#npcm4b').addEventListener('animationend', function () {
    document.querySelector('#npcm1b,#npct4b').emit('go');
  });
    </script>
    <!--script>
    altspace.getThreeJSTrackingSkeleton().then(function(skeleton){
    var head = skeleton.getJoint('Head');

   loop();
    function loop() {
        console.log(head.position);
        requestAnimationFrame(loop);
        document.querySelector('#mappos-spine').setAttribute('position', {x: head.position.x * -1 * 0.001666 + 0.0304, y: head.position.z * -1 * 0.001666 + 0.65, z: -2});
    }
});
    </script-->
    <script>
        document.querySelector('#npcm1').addEventListener('pause', function () {
        animDur.setAttribute('dur', '40000');
    });
  
        document.querySelector('#npcm1').addEventListener('play', function () {
        animDur.setAttribute('dur', '30000');
    });
    </script>
   </body>
</html>
